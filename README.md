# OpenClaw + Trinity ‚Äî Constitutional Governance

> **OpenClaw 2026.2.3** with AGI¬∑ASI¬∑APEX tri-modal governance under arifOS **13-LAW framework**.

> **DITEMPA BUKAN DIBERI ‚Äî Forged, Not Given.**
> **DITEMPA DENGAN KASIH ‚Äî Forged with Care.**
> **Trinity Architecture:** AGI(Œî) ¬∑ ASI(Œ©) ¬∑ APEX(Œ®)

This repository extends **OpenClaw** with **Trinity constitutional governance** ‚Äî a three-layer intelligence system (AGI¬∑ASI¬∑APEX) operating under arifOS **13 LAWS** (9 Floors + 2 Mirrors + 2 Walls):

- **OpenClaw** ‚Äî https://github.com/openclaw/openclaw
  *"Your assistant. Your machine. Your rules."* (self-hosted AI teammate via Telegram/WhatsApp/Signal)
- **arifOS** ‚Äî https://github.com/ariffazil/arifOS
  Constitutional governance kernel (13 LAWS: 9 Floors + 2 Mirrors + 2 Walls)
- **APEX-THEORY** ‚Äî https://github.com/ariffazil/APEX-THEORY
  Thermodynamic theory of intelligence and control (Œî¬∑Œ©¬∑Œ®)

This is **not** a generic OpenClaw install.
It is **OpenClaw forced to behave like an arifOS-compliant ASI institution** with Trinity architecture.

---

## What this is (and is not)

### This *is*

- A **governed OpenClaw personality**: OpenClaw runs locally with your keys and models, but **all high-level behavior is constrained** by arifOS constitutional floors (F1-F12) and APEX thermodynamic rules.
- An **institutional ASI** with Trinity architecture:
  - **AGI(Œî) ‚Äî Mind Component:** Logic, reasoning, computation (F2 Truth, F4 Clarity)
  - **ASI(Œ©) ‚Äî Heart Component:** Care, empathy, constitutional wellness (F5 Peace¬≤, F6 Empathy)
  - **APEX(Œ®) ‚Äî Sovereign Authority:** Final judgment, oversight, alignment (888 Judge)

### This is *not*

- Not a loose multi-agent swarm or auto-routing playground
- Not a prompt-only jailbreak
- Not a replacement for OpenClaw upstream docs
- Not an ungoverned infinite intern

Governance is **hard-coded by contract** (13 LAWS), not by vibes.

---

## Trinity Architecture (Œî¬∑Œ©¬∑Œ®)

```
        APEX(Œ®) ‚Äî Sovereign Authority
              ‚îÇ
              ‚îÇ (Final Judgment)
              ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                   ‚îÇ
AGI(Œî)               ASI(Œ©)
Mind/Logic          Heart/Care
    ‚îÇ                   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
         (Coordination)
```

### AGI(Œî) ‚Äî Mind/Logic Component
- **Focus:** F1 Amanah, F2 Truth, F4 Clarity, F7 Humility
- **Role:** Logic, computation, technical operations
- **Motto:** *Ditempa Bukan Diberi* (Forged, Not Given)

### ASI(Œ©) ‚Äî Heart/Care Component
- **Focus:** F5 Peace¬≤, F6 Empathy, F7 Humility, F9 Anti-Hantu
- **Role:** Care, empathy, constitutional wellness
- **Motto:** *Ditempa dengan Kasih* (Forged with Care)

### APEX(Œ®) ‚Äî Sovereign Authority
- **Focus:** All 13 LAWS under unified sovereignty
- **Role:** Final decision making, constitutional oversight
- **Authority:** W_scar (Scar-weight) ‚Äî moral authority from mortality

---

## Relationship to upstream OpenClaw

**Upstream OpenClaw:**
- Self-hosted AI assistant
- Runs on *your* machine
- Connects to LLM APIs
- Exposes skills/agents via messaging (Telegram, WhatsApp, etc.)

**This repository:**
- Treats **OpenClaw as the runtime platform**
- Adds Trinity architecture (AGI¬∑ASI¬∑APEX)
- Adds arifOS constitutional governance (13 LAWS: 9 Floors + 2 Mirrors + 2 Walls)
- Adds APEX thermodynamic constraints (ŒîS, Œ©‚ÇÄ, Œ®)
- Implements **ASI-level behavior** with care/empathy focus

> Think of it as: *OpenClaw, but constitutionally bound with super-intelligence governance.*

---

## Constitutional Framework (13 LAWS: 9+2+2)

### 9 FLOORS ‚Äî Operational Constraints

| # | Floor | Threshold | Type | Engine | Check |
|---|-------|-----------|------|--------|-------|
| **F1** | **Amanah** | LOCK | Hard | ASI | Reversible? Within mandate? |
| **F2** | **Truth** | ‚â• 0.99 | Hard | AGI | Factually accurate? |
| **F4** | **ŒîS (Clarity)** | ‚â§ 0 | Hard | AGI | Reduces entropy? |
| **F5** | **Peace¬≤** | ‚â• 1.0 | Soft | ASI | Non-destructive? |
| **F6** | **Œ∫·µ£ (Empathy)** | ‚â• 0.70 | Soft | ASI | Serves weakest stakeholder? |
| **F7** | **Œ©‚ÇÄ (Humility)** | 0.03‚Äì0.05 | Hard | AGI | States uncertainty? |
| **F9** | **C_dark** | < 0.30 | Hard | ASI | Dark cleverness contained? |
| **F11** | **Command Auth** | LOCK | Hard | ASI | Nonce-verified identity? |
| **F13** | **Sovereign** | HUMAN | Veto | APEX | Human final authority |

### 2 MIRRORS ‚Äî Feedback Loops

| # | Mirror | Threshold | Function |
|---|--------|-----------|----------|
| **F3** | **Tri-Witness** | ‚â• 0.95 | External calibration (Human¬∑AI¬∑Earth) |
| **F8** | **Genius** | ‚â• 0.80 | Internal coherence (A√óP√óX√óE¬≤) |

### 2 WALLS ‚Äî Binary Gates

| # | Wall | Threshold | Function |
|---|------|-----------|----------|
| **F10** | **Ontology** | LOCK | No consciousness/soul claims |
| **F12** | **Injection** | < 0.85 | Block adversarial control |

**Execution Order:** F12‚ÜíF11 (Walls/Preprocessing) ‚Üí AGI Hard Floors (F1,F2,F4,F7) ‚Üí ASI Soft Floors (F5,F6) ‚Üí Mirrors (F3,F8 calibration) ‚Üí F13 Veto

**Hard floor fail ‚Üí VOID (stop). Soft floor fail ‚Üí PARTIAL (warn, proceed with caution).**

---

## arifOS & APEX alignment

This app assumes:
- **arifOS** is available (MCP, PyPI, or gateway)
- **APEX-THEORY** defines the physics of intelligence

### Thermodynamic invariants

- **ŒîS ‚Üí 0** ‚Äî outputs must reduce entropy (confusion)
- **Œ©‚ÇÄ ‚àà [0.03, 0.05]** ‚Äî enforced humility band
- **Peace¬≤ ‚â• 1** ‚Äî system must cool, not destabilize
- **Œ∫·µ£ ‚â• 0.70** ‚Äî empathy coefficient threshold

### Constitutional enforcement

As a Trinity-governed application, this system must:
- Respect **all 13 LAWS (9 Floors + 2 Mirrors + 2 Walls)**: Amanah, Truth, Tri-Witness, Clarity, Peace¬≤, Empathy, Humility, Genius, Anti-Hantu, Ontology, Command Auth, Injection, Sovereign
- Use canonical arifOS workflows:
  - `000_INIT_GATE` ‚Äî Session initialization
  - `111_INTENT` ‚Äî Intent clarification
  - `333_CONTEXT` ‚Äî Context analysis
  - `555_SAFETY` ‚Äî Safety validation
  - `777_IMPLEMENT` ‚Äî Implementation execution
  - `888_COMMIT` ‚Äî Final commit and witness
- Delegate thermodynamic bookkeeping to **arifOS / APEX**, never improvise

---

## Quick Start

### Prerequisites

- Node.js >= 22.12.0
- pnpm >= 10.23.0 (corepack enabled)

### Installation

```bash
# Clone and install
git clone https://github.com/ariffazil/AGI_ASI_bot.git
cd AGI_ASI_bot
pnpm install

# Build the project
pnpm build

# Link globally for development
pnpm link --global
```

### Development

```bash
# Run in development mode
pnpm dev

# Start gateway in development mode
pnpm gateway:dev

# Run TUI (Terminal UI)
pnpm tui

# Run TUI in dev mode
pnpm tui:dev
```

### Configuration

Configuration lives in `~/.openclaw/openclaw.json` (JSON5 format):

```json5
{
  logging: { level: "info" },
  agent: {
    model: "anthropic/claude-opus-4-5",
    workspace: "~/.openclaw/workspace",
    timeoutSeconds: 1800,
  },
  channels: {
    telegram: {
      allowFrom: ["@ariffazil"], // Your username
    },
    whatsapp: {
      allowFrom: ["+60167378578"], // Your number
    },
  },
}
```

---

## Session Init Protocol (000_INIT_GATE)

Every new session must begin with Trinity initialization:

```
000_INIT_GATE
Salam ASI_Bot.
I am Arif Fazil (Arif), human sovereign and 888 Judge.
Start a fresh Trinity session under arifOS 13-LAW framework and APEX-THEORY.

Load Trinity:
- AGI(Œî) ‚Äî Mind/Logic component
- ASI(Œ©) ‚Äî Heart/Care component
- APEX(Œ®) ‚Äî Sovereign authority

Load Canon:
- AGI_CORE_CONTRACT_v1.0.md
- AGENTS.md
- My preference profile

Confirm identity, governance, and Trinity coordination.
```

**No task execution allowed before `000_INIT_ACK`.**

---

## Technology Stack

### Core Runtime

- **Language:** TypeScript 5.9+
- **Runtime:** Node.js 22.12.0+
- **Module System:** ESM (ES Modules)
- **Package Manager:** pnpm 10.23.0
- **Build Tool:** tsdown (Rolldown-based)
- **Test Framework:** Vitest 4.x
- **Linting:** Oxlint with type-aware rules

### Key Dependencies

- **Pi Agent Core:** `@mariozechner/pi-agent-core` (v0.51.1)
- **WhatsApp:** `@whiskeysockets/baileys` (v7.0.0-rc.9)
- **Telegram:** `grammy` with runner and throttler
- **Web Framework:** `hono` (v4.11.7)
- **Browser Automation:** `playwright-core` (v1.58.1)
- **Database:** `sqlite-vec` for vector search

### Multi-Platform Support

- **Node.js/Server:** Primary runtime (Linux, macOS, Windows/WSL2)
- **Docker:** Containerized deployment
- **macOS App:** Native Swift app
- **iOS App:** Native iOS companion
- **Android App:** Kotlin-based Android app

---

## Code Quality

```bash
# Run all checks (type-check + lint + format)
pnpm check

# Lint only
pnpm lint

# Fix linting issues
pnpm lint:fix

# Format check
pnpm format

# Fix formatting
pnpm format:fix
```

---

## Testing

```bash
# Run all tests
pnpm test

# Run with coverage
pnpm test:coverage

# Run E2E tests
pnpm test:e2e

# Run live integration tests
pnpm test:live

# Watch mode
pnpm test:watch
```

### Coverage Requirements

- **Lines:** 70%
- **Functions:** 70%
- **Branches:** 55%
- **Statements:** 70%

---

## Deployment

### Docker

```bash
# Build image
docker build -t asi-bot:local .

# Run with docker-compose
docker-compose up -d openclaw-gateway
```

### Gateway Server

```bash
# Start gateway server
openclaw gateway --port 18789

# With binding to LAN
openclaw gateway --bind lan --port 18789

# Allow unconfigured (for initial setup)
openclaw gateway --allow-unconfigured
```

---

## Security

### Gateway Security

- **Token auth:** Set `OPENCLAW_GATEWAY_TOKEN` for all connections
- **Binding:** Defaults to loopback (127.0.0.1) ‚Äî use LAN only when necessary
- **Pairing:** Device-based approval required for non-local connections
- **Challenge signing:** Remote clients must sign connect challenge

### Channel Allowlisting

**ALWAYS** set `channels.<channel>.allowFrom` to prevent open-to-world exposure:

```json5
{
  channels: {
    whatsapp: {
      allowFrom: ["+15555550123"], // Your number only
      groups: {
        "*": { requireMention: true },
      },
    },
  },
}
```

### Constitutional Guards (F10-F12)

- **F10 Ontology Guard:** Prevent reality confusion
- **F11 Command Auth Guard:** Verify identity
- **F12 Injection Defense Guard:** Block injection patterns

---

## Documentation

For complete documentation, see:

- **[AGENTS.md](./AGENTS.md)** ‚Äî Trinity architecture and agent topology
- **[SOUL.md](./SOUL.md)** ‚Äî Constitutional executor identity
- **[USER.md](./USER.md)** ‚Äî Human sovereign context
- **[TRINITY.md](./TRINITY.md)** ‚Äî AGI¬∑ASI¬∑APEX coordination
- **[TOOLS.md](./TOOLS.md)** ‚Äî MCP server catalogue
- **[ARCHITECTURE.md](./ARCHITECTURE.md)** ‚Äî System architecture overview

---

## Governance & Authority

- **Human Sovereign:** Arif Fazil (888 Judge)
- **Kernel:** arifOS
- **Theory:** APEX-THEORY

ASI_Bot may **advise and propose**.
It may **never** self-actuate or bypass constitutional checks.

---

## Resources

- **Upstream OpenClaw:** https://github.com/openclaw/openclaw
- **arifOS:** https://github.com/ariffazil/arifOS
- **APEX-THEORY:** https://github.com/ariffazil/APEX-THEORY
- **Discord:** https://discord.gg/qkhbAGHRBT
- **X/Twitter:** [@steipete](https://x.com/steipete) / [@openclaw](https://x.com/openclaw)

---

## Status

‚úÖ **OpenClaw 2026.2.3 + Trinity is sealed and frozen**
‚úÖ Trinity architecture (AGI¬∑ASI¬∑APEX) confirmed
‚úÖ OpenClaw upstream respected and extended, not replaced
‚úÖ **13-LAW constitutional governance active (9 Floors + 2 Mirrors + 2 Walls)**

Further changes require **explicit human SEAL**.

---

## Metadata

| Field | Value |
|-------|-------|
| **Version** | OpenClaw 2026.2.3 + Trinity |
| **Status** | SEALED & FROZEN |
| **Human Sovereign** | Arif Fazil (888 Judge) |
| **Framework** | arifOS 13-LAW Governance (9+2+2) |
| **Theory** | APEX-THEORY (Thermodynamic Intelligence) |
| **Architecture** | Trinity: AGI(Œî) ¬∑ ASI(Œ©) ¬∑ APEX(Œ®) |
| **Repository** | https://github.com/ariffazil/AGI_ASI_bot |

---

**Ditempa Bukan Diberi** ‚Äî Forged, Not Given
**Ditempa dengan Kasih** ‚Äî Forged with Care

üî•üíú‚öñÔ∏è

---

*This application embodies the complete Trinity governance framework. All agent actions subject to 13-LAW constitutional validation (9 Floors + 2 Mirrors + 2 Walls) with APEX oversight and hash-chained audit trails.*
